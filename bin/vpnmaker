#!/usr/bin/env ruby
require_relative '../lib/vpnmaker.rb'
require 'micro-optparse'
#require 'trollop'

module VPNMaker
  module CLI
    class Options


      def self.parse
        Parser.new do |p|
          p.version = "vpnmaker 0.0.1 (c) VoipScout"
          p.banner = <<-EOS
VPNMaker is a Ruby library and a cli tool to manage OpenVPN CA, configs and users. It currently supports HAML templates and uses YAML filestore as database backend.

Usage:
  vpnmaker --prefix [dir.vpn]

Example:

Options:
EOS
          p.option :verbose, 'Enable verbose mode', :default => false
          p.option :prefix, 'Path to .vpn directory to work with', :default => ""
        end.process!
      end
    end
  end
end

options = VPNMaker::CLI::Options.parse
pp options
